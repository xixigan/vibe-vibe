---
title: "第三章：产品思维与文档驱动"
---


# 第三章：产品思维与文档驱动

## 序言：为什么先写文档再写代码？

在让 AI 写代码之前，老师傅按住了你想要狂飙的手。他告诉你，**写代码之前，先写文档**。如果没有蓝图，AI 很容易就会像脱缰的野马，生成的代码往往缺乏结构，写出一堆谁也看不懂、改不动的功能。

### 产品验证三步法

老师傅说："在写任何代码之前，先做**产品验证三步法**：

**第一步：灵魂三问**。用户是谁？痛点在哪？为何用你？这三个问题看似简单，但很多人答不上来。如果用户是'所有人'，那就等于没有用户。如果痛点是'我觉得需要'，那就不是真痛点。如果'为何用你'的答案是'因为我们有最好的技术'，那用户根本不在乎。

**第二步：MVP思维**。能验证假设的最简版本是什么？不要想着一次做出完美产品。先做最小可行产品（MVP），快速验证核心假设。比如要做外卖 App，MVP 可能就是一个微信群 + 人工接单，而不是完整的 App。

**第三步：快速验证**。用最小成本验证假设。可以先用手工方式服务，或者做一个简单的落地页收集用户反馈。记住：失败得越早，成本越低。

PRD 就是 AI 的执行规范。当你想清楚了上面三步，PRD 就是把这些思考翻译成 AI 能理解的结构化文档。

### PRD 的作用与结构

在传统开发中，PRD 是给团队看的；但在 AI 开发中，PRD 更重要的作用是给 AI 提供完整的上下文，让它不需要反复猜测你的意图。

老师傅告诉你，一个完整的 PRD 包含五个核心部分：

**第一部分：文档信息**。记录文档的当前版本、处于哪个阶段（需求评审、UI设计中、开发中、已上线）、谁是核心干系人。还要有更新记录表，清晰记录从"1稿"到"9稿"的迭代过程，让团队成员了解需求的演变。

**第二部分：需求背景与目标**。这是 PRD 的灵魂，要回答四个关键问题：
- **项目概述**：用一两句话高度概括这个产品是做什么的
- **核心问题**：目标用户是谁？他们在什么场景下遇到了什么痛点？这些问题带来了什么负面影响？
- **用户故事**：以"作为一名XX，我想要XX，以便于XX"的格式描述具体需求
- **项目目标**：用户价值是什么？商业价值是什么？期望达成什么具体目标（SMART原则）？

**第三部分：方案概述**。用可视化方式展示产品全貌：
- **核心业务流程图**：用 Mermaid 图描述用户完成核心任务的完整流程
- **功能流程图**：展示主要页面和功能模块如何组织和串联
- **信息架构图**：列出产品包含的所有信息内容和层级关系

**第四部分：细节方案**。这是最详尽的部分，是研发和设计的直接依据：
- **页面原型与交互说明**：描述每个页面的初始状态、触发操作、成功/失败状态
- **边缘Case处理**：用户在生成过程中退出页面怎么办？快速反复点击怎么办？
- **非功能性需求**：性能要求、兼容性需求、数据统计埋点

**第五部分：上线计划**。定义需求的生命周期：
- **上线排期**：需求评审、UI/UX设计、研发、测试的时间节点
- **灰度发布**：先对内部员工开放，再对1%种子用户开放，逐步放量至全量

最关键的是结构化 + 可视化，Markdown + Mermaid 的组合是最优选择，因为 AI 对这种格式理解最好。有了这个"单一事实来源"，AI 的输出就会稳定很多，也不会出现需求爆炸的问题。

### PRD 编写实战

老师傅给你看了一份企业级 PRD 模板，里面详细列出了从"1稿"到"9稿"的迭代过程。

**1稿（内部评审稿）**：重点阐述需求背景、目标和核心价值。这时候不需要太详细，只要把"为什么要做"说清楚就行。

**5稿（项目评审稿）**：补充核心业务流程、功能流程图和原型交互说明。这时候要让开发、设计、测试都能看懂你要做什么。

**9稿（开发前定稿）**：合入最终UI设计稿，补充边缘Case、埋点方案和上线计划。这时候文档要足够详细，开发可以直接照着做。

老师傅强调："PRD 不是一蹴而就的，而是迭代出来的。1稿想清楚'为什么'，5稿想清楚'是什么'，9稿想清楚'怎么做'。每一步都有评审和修改，避免到最后才发现大问题。"

### PRD 与技术文档的关系

在PRD迭代到5稿、产品方案基本确定后，老师傅提醒你，除了梳理业务逻辑，你还需要记录具体的技术实现方案，也就是**技术文档**。

很多人容易混淆PRD和技术文档，其实它们的分工很明确：

**PRD（产品需求文档）** 回答"做什么"的问题：
- 目标用户是谁？
- 核心功能有哪些？
- 用户如何交互？
- 边缘场景怎么处理？

**技术文档** 回答"怎么做"的问题：
- 用什么技术栈？（Next.js + PostgreSQL）
- 数据库表结构怎么设计？（用户表、文章表、评论表）
- API接口怎么定义？（/api/auth、/api/posts）
- 第三方服务怎么集成？（OpenAI API、地图服务）
- 部署方案是什么？（Edgeone、Vercel、云服务器）

老师傅说："对于现在的你来说，不必拘泥于形式，完全可以将技术文档与PRD合并，统称为**项目文档**，这样查阅起来更方便。但要清楚区分哪些是产品层面的思考，哪些是技术层面的决策。"

技术文档通常包含这几个核心部分：

**数据模型设计**。用简化的结构描述数据库表之间的关系。比如一个博客应用，你需要用户表（存储邮箱、密码哈希）、文章表（存储标题、内容、作者ID）、评论表（存储评论内容、文章ID、用户ID）。Drizzle ORM的Schema定义文件本身就是绝佳的数据模型文档，它能直观地展示表结构和字段类型。

**API接口设计**。定义每个接口的路径、方法、参数、返回值。比如`POST /api/posts`创建文章，需要传入`title`和`content`，返回创建的文章ID和创建时间。这些接口定义是前后端协作的基础。

**架构设计**。描述整体技术架构，比如前端是Next.js App Router，后端用Next.js API Routes，数据库用PostgreSQL，部署在Vercel上。用Mermaid画一张架构图，能让AI快速理解你的技术选型。

**第三方服务集成**。记录如何接入外部API。比如调用OpenAI API生成摘要，需要传递什么参数、如何处理流式响应、错误怎么处理。这些信息让AI在编写代码时有明确的参考。

老师傅特别强调："技术文档不是一成不变的。随着开发的深入，你会不断调整和补充。重要的是保持文档与代码同步，不要让文档变成'过时地图'。"

> 技术文档是PRD的延伸，从"做什么"深入到"怎么做"。两者结合，构成完整的项目文档体系。

### 需求管理技巧

在编写 PRD 的过程中，有几个实用的点：

**需求范围管理**。明确"In-Scope（范围内）"和"Out-of-Scope（范围外）"，有效管理团队预期，避免范围蔓延。比如这次做AI摘要生成，历史记录V2.0再考虑。

**需求优先级排序**。将需求拆解为具体的需求点，用表格列出需求ID、模块、描述、优先级、状态。高优先级先做，中优先级观察，低优先级延后。

**用户故事**。从用户的视角出发，以"作为一名<角色>，我想要<完成某项任务>，以便于<实现某个价值>"的格式描述需求。这比"我要做一个功能"的描述方式更贴近用户。

**SMART目标设定**。项目目标要符合SMART原则——具体的、可衡量的、可实现的、相关的、有时限的。比如"上线后3个月内，AI摘要功能使用率达到30%"就比"提升用户活跃度"更清晰。

### Markdown 与 Mermaid

在编写文档的过程中，你还顺便了解了 **Markdown (.md)** 和 **Mermaid**。Markdown 用于编写排版整齐的文本，Mermaid 用于通过文字代码绘制流程图、时序图。

老师傅说，将这些文档提供给 AI，它生成的代码准确率显著提升。在这个过程中，你还顺便搞懂了 **JSON** 和 **YAML** 这种奇怪的配置文件格式。原来，对于 AI 来说，相比于散漫的自然语言，这些结构清晰的格式才是它们最爱读的"说明书"。

> 这些结构化格式在AI开发中至关重要，它们提供了清晰的上下文，让AI能够准确理解需求。Mermaid流程图让业务逻辑可视化，AI能准确理解交互流程。

### 项目说明书 README.md

代码不仅是给机器运行的，也是给人和 AI 阅读的。你知道了要写 **README.md**。这不是冗余信息，而是项目的"说明书"。你在里面清晰地记录了如何启动项目（`pnpm dev`）、如何配置环境变量、核心功能的逻辑。从此，无论是谁，直接看文档就上手了。

README.md 就像是项目的"门面"，包含：
- **项目简介**：这个项目是做什么的？
- **快速开始**：如何安装依赖、启动项目
- **环境变量**：需要配置哪些密钥和参数
- **核心功能**：主要功能模块和交互逻辑
- **技术栈**：使用了哪些技术和工具
- **贡献指南**：如何参与项目开发

老师傅补充道："写 PRD 不是形式主义，而是为了训练你的问题定义能力。很多人直接让 AI'帮我做个功能'，结果来回改很多次。但先写清楚目标、用户、业务场景、和交互逻辑，AI 往往一次就对了。差距就在想清楚。"

最后，老师傅还顺带提到了 **Swagger**。以后当项目变得复杂，利用 Swagger 自动生成接口文档，能更高效地确保文档与代码实现保持一致。

对了，记得让 AI 随时保持文档的更新。

---

### 小节导航

#### 基础部分
```
- **3.1 产品验证实战 (./01-产品验证实战.md)** 🟢 - 学习产品验证三步法和 MVP 思维
- **3.2 AI友好的PRD结构 (./02-AI友好的PRD结构.md)** 🔴 - 了解 AI 友好的 PRD 结构和编写要点
- **3.3 PRD编写规范 (./03-PRD编写规范.md)** 🟢 - 编写高质量、易维护的 PRD 文档
- **3.4 Mermaid流程图实战 (./04-Mermaid流程图实战.md)** 🟢 - 使用 Mermaid 绘制流程图、架构图
- **3.5 项目说明书结构 (./05-项目说明书结构.md)** 🟢 - 编写完整的项目 README.md 文档
```

#### 进阶部分
```
- **3.6 Coding-Agents理念 (./06-Coding-Agents理念.md)** 🔴 - 理解 AI Agent 的工作原理与协作模式（核心小节）
```

---

### 学习目标

完成本章后，你将能够：
- ✅ 掌握产品验证三步法
- ✅ 理解完整 PRD 的五个核心部分
- ✅ 学会编写从1稿到9稿的迭代式 PRD
- ✅ 掌握需求管理技巧（范围控制、优先级排序、用户故事、SMART目标）
- ✅ 使用 Markdown 和 Mermaid 编写结构化文档
- ✅ 编写清晰的项目 README
- ✅ 训练问题定义能力，提高 AI 协作效率

---

## 核心理念

> "想清楚再动手，用文档训练思维。"

本章强调的是，在 AI 时代，**问题定义能力比代码实现能力更重要**。PRD 不是形式主义，而是产品思维的体现——从"为什么做"到"是什么"再到"怎么做"，每一步都想清楚。有了结构化的 PRD 作为"单一事实来源"，AI 就能成为高效的执行伙伴而不是猜谜者。

---

**下一章**：第3.5章：开发常识与技术栈 (../03-5-dev-fundamentals/index.md)
