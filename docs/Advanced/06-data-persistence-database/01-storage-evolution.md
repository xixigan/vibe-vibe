---
title: "6.1 数据存储演进"
description: "从 CSV 到 JSON 再到数据库的演进路径"
---

# 6.1 数据存储演进

> **待开发**

---

数据存储方式随着业务复杂度不断演进。本节用本土化案例展示这个演进过程。

**CSV 文件阶段**

想象你用 Excel 管理一个豆瓣电影评分表：

```csv
电影名,导演,评分,标签,年份
流浪地球,郭帆,7.9,科幻,2019
哪吒之魔童降世,饺子,8.4,动画,2019
霸王别姬,陈凯歌,9.6,剧情,1993
```

小明想查"所有评分 8 分以上的国产电影"，需要手动筛选。数据量小还可以，数据多了效率极低。

**JSON 文件阶段**

程序员把数据改成 JSON 格式：

```json
{
  "movies": [
    {"id": 1, "title": "流浪地球", "rating": 7.9},
    {"id": 2, "title": "哪吒之魔童降世", "rating": 8.4}
  ],
  "tags": [
    {"id": 1, "name": "科幻"},
    {"id": 2, "name": "动画"}
  ]
}
```

问题：关联查询复杂（电影和标签分开存），数据多了查询慢，没有数据完整性约束。

**数据库阶段**

使用 PostgreSQL 关系型数据库：
- 表结构清晰，关联查询高效
- 数据完整性约束（主键、外键）
- 索引加速查询
- 支持并发访问

---

::: tip 演进规律

业务越复杂，越需要数据库。CSV 适合一次性分析，JSON 适合配置数据，数据库适合业务数据。

:::
